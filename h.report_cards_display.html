<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1000", initial-scale="1.0">
    <title>Terminal Reports Checking</title>
    <style>
        body {font-size: 16px;
            font-family: Arial Rounded MT Bold, sans-serif;
            margin: 0 20px;
            display: flex;
            flex-direction: column; /* Stack elements vertically */
            align-items: center; /* Center the content horizontally */}
            
        table {width: 100%; /* Use full width */
            max-width: 500px; /* Set a max width to 480px */
            border-collapse: collapse; /* Ensure borders are collapsed for uniformity */
            margin-bottom: 20px;}
        th,
        td {border: 1px solid #000; /* Uniform border for all cells */
            padding: 5px;
            text-align: left; /* Align text to the left */}
        button {background: darkgray;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px; /* Add some space above the button */
            color: green;
            text-decoration: underline;
            border: none;}

        img {width: 100%; /* Set a consistent width for the image */
            max-width: 500px; /* Max width to maintain responsiveness */
            height: auto; /* Maintain aspect ratio */}
        .full-width {text-align: left; /* Align text to the left for full-width rows */}
        .empty-row {height: 90px; /* Set height to match the header */}
        .empty-row img {width: 7em; height: 6em; padding: 0.5em 0 0.5em 1.7em;
                        border-radius: 0px}
        /* Hide borders when printing */
        @media print {
            table {border: none; /* Hide table borders */}
            th, td {border: none; /* Hide cell borders */}
            button {margin-top: 20px;}}
        alt {display: flex; flex-direction: column;}
     .wrap {word-wrap: break-word;
            max-width: 150px; /* Set a max width for the subject name */}
    </style>
</head>
<body>

<table>
    <tr>
        <td colspan="3" class="full-width" style="padding: 0">
            <img src="i.report-head.jpg" alt="Header Image" style="display: block;">
        </td>
    </tr>
    <tr>
        <td colspan="3" class="full-width" style="text-align: center; background: darkgray; color: white; padding: 7px 0; 
                                                  font-size: 18px;">
            <b>Results Checking</b>
        </td> 
    </tr>
    <tr>
        <td colspan="3" class="full-width">
            <b style="color: red; font-size: 16px; font-family: Calibri;">Disclaimer:</b> 
            <b style="color: indigo; font-size: 14px; font-family: Dubai Light, sans-serif ; line-height: 1.2em;">THE RESULTS GIVEN BELOW ARE PROVISIONAL. THE FINAL RESULTS WILL BE PRINTED ON YOUR REPORT CARD.</b>
        </td>
    </tr>
    <tr>
        <td colspan="3" class="full-width" style="background: #CC5D12; color: white; font-family: Calibri,sans-serif; font-size: 18px;">
            <strong>Candidate's Details</strong>
        </td>
    </tr>

    <tr class="empty-row" style="padding: 0;">
        <td colspan="3" class="full-width">
            <img src="i.Breman Islamic Bage 1.jpg" alt="School Bage">
        </td>
    </tr>
    <tr>
        <td colspan="3" class="full-width">
            <b style="color: indigo; font-size: 14px; font-family: Dubai Light, sans-serif; line-height: 1.2em">RESULTS OF THE CANDIDATE ON THIS PRINT-OUT CAN BE CROSS-CHECKED BY COMPARING IT TO THE ONE ON THE REPORT CARD.</b>
        </td>
    </tr>
    <tbody id="studentDetails"></tbody>
     <tr>
        <td colspan="3" class="full-width" style="background: #CC5D12; color: white; padding: 0.85em;">
            <strong></strong>
        </td>
    </tr>
    <tr>
                    <td style="padding: 0.85em;"><strong></strong></td>
                    <td colspan="2"></td>
    </tr>
    <tr>
        <td colspan="3" class="full-width" style="background: #CC5D12; color: white; font-size: 18px; font-family: Calibri, sans-serif; text-align: center;">
            <b> Statement of Results</b>
        </td>
    </tr>
    <tbody id="subjectResults"></tbody>
    <tr>
        <td colspan="3" class="full-width" style="background: darkgray; text-align: center; padding-bottom: 0;">
    <button onclick="window.print()">Click to Print This Page</button>

        </td>
    </tr>
</table>

<script>
    window.onload = function() {
        const student = JSON.parse(localStorage.getItem("studentData"));

        if (student) {
            document.getElementById("studentDetails").innerHTML = `
                <tr>
                    <td><strong>Student Name</strong></td>
                    <td colspan="2" style="font-family: Times New Roman, sans-serif;">${student.studentName}</td>
                </tr>
                <tr>
                    <td><strong>Class</strong></td>
                    <td colspan="2" style="font-family: Times New Roman, sans-serif;">${student.class}</td>
                </tr>
                <tr>
                    <td><strong>Term</strong></td>
                    <td colspan="2" style="font-family: Times New Roman, sans-serif;">${student.term}</td>
                </tr>
                
                <tr>
                    <td><strong>Academic Year</strong></td>
                    <td colspan="2" style="font-family: Times New Roman, sans-serif;">${student.academicYear}</td>
                </tr>
                <tr>
                    <td><strong>Aggregate</strong></td>
                    <td colspan="2" style="font-family: Times New Roman, sans-serif;">${student.aggregate}</td>
                </tr>
                <tr>
                    <td><strong>Position</strong></td>
                    <td colspan="2" style="font-family: Times New Roman, sans-serif;">${student.position}</td>
                </tr>

            `;

            let resultsHTML = `

                <tr>
                    <td><strong style="font-family: Dubai Meduim">SUBJECT NAME</strong></td>
                    <td style="padding-right: 2em; padding-left: 1em; font-family: Dubai Meduim"><strong>GRADE</strong></td>
                    <td style="padding-right: 4em; font-family: Dubai Meduim"><strong>REMARKS</strong></td>
                </tr>
            `;
            
            for (const subject in student.grades) {
                const subjectName = subject === "religious and moral education" ? "RELIGIOUS AND MORAL EDUCATION" : subject.toUpperCase();
                resultsHTML += `
                    <tr>
                        <td class="wrap" style="font-family: Calibri, sans-serif;"><b>${subjectName}</b></td>
                        <td style="padding-left: 3em; font-family: Dubai Light; font-size: 14px;">${student.grades[subject]}</td>
                        <td style="font-family: Dubai Light, sans-serif; line-height: 0;">${student.remarks[subject]}</td>
                    </tr>
                `;
            }

            document.getElementById("subjectResults").innerHTML = resultsHTML;
        } else {
            alert("No student data found.");
            window.location.href = "h.report_cards.html"; // Redirect back if no data
        }
    }
</script>

</body>
</html>
